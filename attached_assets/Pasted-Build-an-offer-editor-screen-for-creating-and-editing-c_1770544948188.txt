Build an offer editor screen for creating and editing construction offers.

ACCESS: 
- From Angebots-Liste â†’ [+ Neues Angebot] 
- OR from existing offer â†’ [Bearbeiten]

--- STEP 1: PROJEKT WÃ„HLEN (only for new offers) ---

Same project selector as Foto-Capture:
- Search + recent 3
- After select â†’ Step 2

--- STEP 2: OFFER EDITOR ---

HEADER:
- Back arrow â†
- "Angebot erstellen" or "Angebot bearbeiten"
- "BL-2026-003 â€¢ Schwentnerring" zinc-400
- Right: [â‹®] menu (Vorschau, PDF, Speichern)

META SECTION (card):
Angebotsnummer    ANG-2026-003-02 (auto)
Version           v2 (auto)
Datum             [08.02.2026]
GÃ¼ltig bis        [08.03.2026]
Kunde:
SAGA GWG                        [Ã„ndern]
Rechnungsabteilung
BeispielstraÃŸe 1, 20095 Hamburg
Betreff:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Renovierung Schwentnerring 13c      â”‚
â”‚ EG Links â€” Maler + Bodenbelag      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

--- POSITIONEN SECTION (the core) ---

Header: "Positionen" + count + [+ Position]

GROUPED BY ROOM (accordion, draggable to reorder):
ğŸš¿ Badezimmer                      3 Pos. â€¢ â‚¬2.840
[+ Position] [â‹®]
â–¼
01.01  Wandfliesen                    â‚¬680,00
12,5 mÂ² Ã— â‚¬54,40/mÂ²
[âœï¸] [ğŸ“‹] [ğŸ—‘ï¸]
01.02  Bodenfliesen                   â‚¬420,00
6,0 mÂ² Ã— â‚¬70,00/mÂ²
[âœï¸] [ğŸ“‹] [ğŸ—‘ï¸]
01.03  SanitÃ¤robjekte                â‚¬1.740,00
Pauschal
[âœï¸] [ğŸ“‹] [ğŸ—‘ï¸]

[+ Raum hinzufÃ¼gen] button below all rooms.

--- ADD POSITION (bottom sheet, 90% height) ---

Triggered by [+ Position] in a room.

THREE WAYS TO ADD:

TAB BAR: [ğŸ” Katalog] [ğŸ“‹ Letzte] [âœï¸ Frei]

TAB 1 â€” KATALOG (main way):
ğŸ” Position suchen...
Filter: [Alle] [Maler] [Boden] [SanitÃ¤r] [Elektro] [Fliesen]
SUCHERGEBNISSE:
01.03  Raufaser tapezieren
Raufasertapete an Wand- und DeckenflÃ¤chen
tapezieren einschl. Kleister und Zuschnitt.
â‚¬8,40/mÂ²
[+ HINZUFÃœGEN]
01.04  Vliestapete tapezieren
Vliestapete an WandflÃ¤chen tapezieren
einschl. Kleister, Zuschnitt und Nahtarbeit.
â‚¬9,60/mÂ²
[+ HINZUFÃœGEN]
07.12  HeizkÃ¶rper lackieren
HeizkÃ¶rper bis 10 Glieder reinigen,
grundieren und 2x Lackieren.
â‚¬38,40/Stk
[+ HINZUFÃœGEN]

Search is INSTANT â€” searches across:
- Position code (01.03)
- Title (Raufaser)
- Full description text (WABS Langtext)
- Trade (Maler, Boden, SanitÃ¤r...)

After [+ HINZUFÃœGEN]:
Position hinzugefÃ¼gt: 01.03 Raufaser tapezieren
Menge:    [    ] mÂ²        â† MUST FILL
Preis:    â‚¬8,40 /mÂ²       [Anpassen]
Aufschlag: 15%             [Anpassen]
Endpreis: â‚¬9,66 /mÂ²
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Oder: Menge aus AufmaÃŸ Ã¼bernehmen    â”‚
â”‚  [ğŸ“ MagicPlan Import]                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
[âœ… ÃœBERNEHMEN]

TAB 2 â€” LETZTE (recently used positions):
Zuletzt verwendet:
01.03  Raufaser tapezieren     â‚¬8,40/mÂ²    12x verwendet
01.02  WandflÃ¤chen streichen   â‚¬4,80/mÂ²     9x
03.04  Thermostat tauschen     â‚¬38,40/Stk   7x
[+ HINZUFÃœGEN]

Sorted by use_count. Shows how often used across all offers.

TAB 3 â€” FREI (manual entry):
Freie Position
Pos.Nr:       [01.99]  (auto-suggested)
Bezeichnung:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Sonderarbeit Decke                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Langtext:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Deckenbereich im Bad aufgrund     â”‚
â”‚ Wasserschaden extra behandeln,    â”‚
â”‚ Trocknung und Neuaufbau...        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Einheit:   [mÂ² â–¾]  (mÂ², Stk, Pauschal, lfm, mÂ³)
Menge:     [     ]
Preis:     [â‚¬    ] pro Einheit
[âœ… ÃœBERNEHMEN]

--- POSITION EDIT (inline) ---

Tap âœï¸ on existing position:
01.03  Raufaser tapezieren
Langtext (aus Katalog, editierbar):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Raufasertapete an Wand- und       â”‚
â”‚ DeckenflÃ¤chen tapezieren einschl. â”‚
â”‚ Kleister und Zuschnitt.           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
[â†©ï¸ Originaltext wiederherstellen]
Menge:     [42,5] mÂ²
Preis:     [â‚¬8,40] /mÂ²    [Katalogpreis: â‚¬8,40]
Aufschlag: [15] %
Endpreis:  â‚¬9,66 /mÂ²
Gesamt:    â‚¬410,55
[ğŸ’¾ Speichern]  [ğŸ—‘ï¸ LÃ¶schen]

--- KALKULATION LIVE (sticky card at bottom while editing) ---

Always visible while scrolling positions:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  47 Positionen          â‚¬12.400 netto â”‚
â”‚  Material: ~â‚¬4.200      Marge: 24% ğŸŸ¢ â”‚
â”‚                                        â”‚
â”‚  [ğŸ“„ Vorschau]    [ğŸ’¾ Speichern]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Updates LIVE as positions are added/changed/removed.
Marge calculation: (Angebotssumme - geschÃ¤tzte Kosten) / Angebotssumme

--- ROOMS MANAGEMENT ---

[+ Raum hinzufÃ¼gen]:
Raum hinzufÃ¼gen
VorschlÃ¤ge:
[ğŸš¿ Bad] [ğŸ³ KÃ¼che] [ğŸ›‹ï¸ Wohnzimmer]
[ğŸ›ï¸ Schlafzimmer] [ğŸ‘¶ Kinderzimmer] [ğŸšª Flur]
[ğŸ  AuÃŸen] [ğŸ“¦ Abstellraum] [ğŸªœ Keller]
Oder eigener Name:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Tap suggestion â†’ room created instantly.
Rooms draggable to reorder (long press + drag).

--- AUFSCHLAG/PREIS STRATEGIE ---

Global setting in offer header (expandable):
Kalkulation
Globaler Aufschlag: [15] %
Gilt fÃ¼r alle Katalogpositionen.
â˜ Auf gerundeten Preis runden (â‚¬0,10)
â˜‘ï¸ Einzelpreis-Aufschlag anzeigen

Can be overridden per position.

--- VORSCHAU (PDF Preview) ---

Tap [ğŸ“„ Vorschau]:
- Shows offer as it would print
- Uses Briefpapier settings (logo, header, footer)
- Position table with Pos.Nr, Beschreibung, Menge, EP, GP
- Room headers as section dividers
- Sum block at bottom

Scrollable inline preview OR fullscreen.
[PDF herunterladen] [ğŸ“§ Per Email senden] [â† ZurÃ¼ck]

--- SPEICHERN FLOW ---

[ğŸ’¾ Speichern] options:
â— Als Entwurf speichern
â—‹ Zur Freigabe einreichen

"Zur Freigabe" â†’ creates approval item in Freigaben for GF.

--- DESIGN RULES ---

- Katalog-Suche: FAST. Debounce 200ms, results appear instantly.
- Position numbers auto-increment per room (01.01, 01.02...)
- Room numbers auto-increment (01=Bad, 02=KÃ¼che...)
- Drag to reorder rooms AND positions within rooms
- Swipe left on position â†’ ğŸ—‘ï¸ delete (with undo toast)
- Langtext from catalog pre-filled but always editable
- Price always shows Katalogpreis as reference even if overridden
- Marge indicator updates real-time
- Auto-save every 30s (small "Gespeichert âœ“" indicator)

All zinc-900 cards. Amber actions. German labels.
Touch targets 48px+.
Keyboard: numeric for quantities/prices.
Das ist der dickste Screen der ganzen App â€” der Angebots-Editor. Wenn der sitzt, hast du den Kern deines Business digitalisiert.
Zum Thema Desktop: Sag Replit einfach am Ende:
Make the app responsive. On screens wider than 768px:
- Replace bottom tab bar with left sidebar (240px, zinc-900)
- Show split view: list left, detail right
- Wider cards, 2-3 column grids where useful
- Keep same dark mode design language